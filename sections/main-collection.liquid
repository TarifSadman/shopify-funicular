<div class="shopify-grid padding-large">
  <div class="container">
    <div class="row">
      {% paginate collection.products by 12 %}
        <main class="col-md-12">
          <div class="filter-shop d-flex justify-content-between align-items-center mb-5">
            <div class="showing-product">
              <p class="m-0">{{ collection.products_count }} products</p>
            </div>
            <div class="sort-by">
              <select id="sort-by" class="form-select">
                <option value="manual">Featured</option>
                <option value="best-selling">Best Selling</option>
                <option value="title-ascending">Alphabetically, A-Z</option>
                <option value="title-descending">Alphabetically, Z-A</option>
                <option value="price-ascending">Price, low to high</option>
                <option value="price-descending">Price, high to low</option>
                <option value="created-ascending">Date, old to new</option>
                <option value="created-descending">Date, new to old</option>
              </select>
            </div>
          </div>

          <div class="product-grid row">
            {% for product in collection.products %}
              <div class="col-md-3 mb-4">
                <div class="product-item">
                  <div class="image-holder position-relative" style="background-color: #f7f7f7;">
                    <a href="{{ product.url }}">
                      <img
                        src="{{ product.featured_image | image_url: width: 800 }}"
                        alt="{{ product.title }}"
                        width="800"
                        height="auto"
                        class="product-image img-fluid w-100"
                        style="mix-blend-mode: multiply;"
                      >
                    </a>
                    <a
                      href="#"
                      class="btn-icon btn-wishlist position-absolute"
                      style="top: 15px; right: 15px;"
                      data-product-handle="{{ product.handle }}"
                      data-product-title="{{ product.title }}"
                      data-product-image="{{ product.featured_image | image_url: width: 200 }}"
                      data-product-price="{{ product.price | money }}"
                      data-product-url="{{ product.url }}"
                    >
                      <svg width="24" height="24" viewBox="0 0 24 24">
                        <use xlink:href="#heart"></use>
                      </svg>
                    </a>
                  </div>
                  <div class="product-content mt-3">
                    <h5 class="text-uppercase fs-6 m-0">
                      <a
                        href="{{ product.url }}"
                        class="text-decoration-none text-dark"
                        style="font-weight: 600; font-size: 0.9rem;"
                      >
                        {{- product.title -}}
                      </a>
                    </h5>
                    <a href="{{ product.url }}" class="text-decoration-none text-muted" style="font-size: 0.95rem;"
                      ><span>{{ product.price | money }}</span></a
                    >
                  </div>
                </div>
              </div>
            {% else %}
              <p>No products found.</p>
            {% endfor %}
          </div>
          <nav class="navigation paging-navigation text-center padding-medium" role="navigation">
            <div class="pagination loop-pagination d-flex justify-content-center align-items-center">
              {{ paginate | default_pagination }}
            </div>
          </nav>
        </main>
      {% endpaginate %}
    </div>
  </div>
</div>

<script>
  document.getElementById('sort-by').addEventListener('change', function (e) {
    window.location.search = '?sort_by=' + e.target.value;
  });
</script>

{% schema %}
{
  "name": "Collection Main",
  "settings": [],
  "presets": [
    {
      "name": "Collection Main"
    }
  ]
}
{% endschema %}
