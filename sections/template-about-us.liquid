<div class="bg-white">
  {% for block in section.blocks %}
    <section class="py-16 {% if forloop.index > 1 %}border-t border-gray-200{% endif %}">
      <div class="mx-auto max-w-7xl px-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center">
          
          {%- comment -%} Image Column {%- endcomment -%}
          <div class="{% if block.settings.image_position == 'right' %}md:order-2{% else %}md:order-1{% endif %}">
            {% if block.settings.image != blank %}
              <img
                src="{{ block.settings.image | image_url: width: 800 }}"
                alt="{{ block.settings.image.alt | default: block.settings.heading }}"
                class="w-full h-auto rounded-lg shadow-lg"
                loading="lazy"
              >
            {% else %}
              <div class="w-full h-64 bg-gray-200 rounded-lg flex items-center justify-center">
                <span class="text-gray-400">Image placeholder</span>
              </div>
            {% endif %}
          </div>

          {%- comment -%} Content Column {%- endcomment -%}
          <div class="{% if block.settings.image_position == 'right' %}md:order-1{% else %}md:order-2{% endif %}">
            {% if block.settings.heading != blank %}
              <h2 class="text-3xl font-bold text-gray-900 mb-4">
                {{ block.settings.heading }}
              </h2>
            {% endif %}

            {% if block.settings.description != blank %}
              <div class="text-lg text-gray-600 leading-relaxed">
                {{ block.settings.description }}
              </div>
            {% endif %}

            {% if block.settings.button_label != blank %}
              <a
                href="{{ block.settings.button_link }}"
                class="inline-block mt-6 rounded-lg bg-black px-6 py-3 font-semibold text-white hover:bg-gray-900 transition"
              >
                {{ block.settings.button_label }}
              </a>
            {% endif %}
          </div>

        </div>
      </div>
    </section>
  {% endfor %}
</div>

{% schema %}
{
  "name": "About Us Zigzag",
  "settings": [],
  "blocks": [
    {
      "type": "zigzag_item",
      "name": "Zigzag Item",
      "settings": [
        {
          "type": "select",
          "id": "image_position",
          "label": "Image position",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "left"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Our Story"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Tell your story here. Share your mission, values, and what makes your brand unique."
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button label"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "About Us Zigzag",
      "blocks": [
        {
          "type": "zigzag_item"
        },
        {
          "type": "zigzag_item"
        },
        {
          "type": "zigzag_item"
        }
      ]
    }
  ]
}
{% endschema %}